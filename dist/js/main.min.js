function recalculate(){header.style.minHeight=heightScreen+"px",sceneBlock.style.minHeight=heightScreen+"px",animationBlockHeight=mainBlock.offsetHeight,infoAnimateBlockHeight=infoBlock.offsetHeight,mapUkraineHeight=mapUkraine.offsetHeight,distanceToBlock=mainBlock.offsetTop,infoDistanceToBlock=infoBlock.offsetTop,mapUkraineToBlock=mapUkraine.offsetTop,infoStartAnimation=infoDistanceToBlock+infoAnimateBlockHeight/2,mapUkraineAnimation=mapUkraineToBlock+mapUkraineHeight/2,startAnimation=distanceToBlock+animationBlockHeight/2}function debounce(e,t){var n;return function(){clearTimeout(n),n=setTimeout(function(){e.apply(null)},t)}}function once(e){var t=!1;return function(){return t?void 0:(t=!0,e.apply(this,arguments))}}function checkViewAreaAnimate(){var e=window.pageYOffset||document.documentElement.scrollTop;flag&&e+heightScreen>=infoStartAnimation&&e+heightScreen<=infoStartAnimation+heightScreen/1.25&&startAnimate()}function checkViewAreaMap(){var e=window.pageYOffset||document.documentElement.scrollTop;flag&&e+heightScreen>=mapUkraineAnimation&&e+heightScreen<=mapUkraineAnimation+heightScreen&&startMap()}function responsiveStart(){document.body.clientWidth>767?(window.addEventListener("scroll",function(){checkViewAreaAnimate(),checkViewAreaMap()}),addHandlers(),addHandlerMap()):document.querySelector("#ux-design").setAttribute("data","img/svg/ux_design_mobile.svg")}var BrowserDetect={init:function(){this.browser=this.searchString(this.dataBrowser)||"Other",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"Unknown"},searchString:function(e){for(var t=0;t<e.length;t++){var n=e[t].string;if(this.versionSearchString=e[t].subString,-1!==n.indexOf(e[t].subString))return e[t].identity}},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t){var n=e.indexOf("rv:");return"Trident"===this.versionSearchString&&-1!==n?parseFloat(e.substring(n+3)):parseFloat(e.substring(t+this.versionSearchString.length+1))}},dataBrowser:[{string:navigator.userAgent,subString:"Edge",identity:"MS Edge"},{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer"},{string:navigator.userAgent,subString:"Trident",identity:"Explorer"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.userAgent,subString:"Safari",identity:"Safari"},{string:navigator.userAgent,subString:"Opera",identity:"Opera"}]};BrowserDetect.init(),("Explorer"===BrowserDetect.browser||"MS Edge"===BrowserDetect.browser)&&document.querySelector("#ui-svg").setAttribute("data","img/svg/ui_design_ie.svg");var options={useEasing:!0,useGrouping:!0,separator:",",decimal:".",prefix:"",suffix:""},project=new CountUp("project",0,236,0,1.4,options),pixel=new CountUp("pixels",0,1.1,1,2,options),hours=new CountUp("hours",0,2.4,1,2,options);document.querySelector(".opener-btn").addEventListener("click",function(){document.querySelector(".top-head").classList.toggle("mobile-nav"),document.querySelector(".top-head").classList.contains("mobile-nav")?document.querySelector(".top-head.mobile-nav nav").style.height=heightScreen+"px":document.querySelector(".top-head nav").style.height=empty});var mainBlock=document.querySelector(".our-work"),infoBlock=document.querySelector(".info-wrapper"),mapUkraine=document.querySelector(".contact-information"),header=document.querySelector("header"),sceneBlock=document.querySelector(".scene"),screenHeight=document.documentElement,empty="0px",heightScreen=screenHeight.clientHeight,discovery=document.querySelector("#discovery"),uxDesign=document.querySelector("#ux-design"),prototype=document.querySelector("#prototype"),userTesting=document.querySelector("#user-testing"),uiSvg=document.querySelector("#ui-svg"),development=document.querySelector("#development"),map=document.querySelector("#map"),heightHeader=header.offsetHeight;recalculate(),window.addEventListener("resize",debounce(recalculate,200)),window.addEventListener("scroll",function(){var e=window.pageYOffset||document.documentElement.scrollTop;e+heightScreen>startAnimation&&(project.start(),pixel.start(),hours.start())});var scene=document.getElementById("scene"),parallax=new Parallax(scene),startMainLogo=function(){var e=document.querySelector("object#logo");Array.prototype.forEach.call(e.contentDocument.querySelector("svg").querySelectorAll("animateTransform"),function(e){e.beginElement()})};setTimeout(function(){startMainLogo()},1e3);var startAnimate=once(function(){for(var e=document.querySelectorAll("object"),t=1;t<e.length-1;t++)Array.prototype.forEach.call(e[t].contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElementAt(e.getAttribute("time"))})}),startMap=once(function(){var e=document.querySelector("object#map");Array.prototype.forEach.call(e.contentDocument.querySelector("svg").querySelectorAll("animate"),function(e){e.hasAttribute("animation")||e.beginElement()})}),objArray=document.querySelectorAll("object"),flag=!1,icons=Promise.all(Array.prototype.map.call(objArray,function(e){return new Promise(function(t,n){e.addEventListener("load",function(){t(e),n(new Error("Error"))})})})).then(function(){flag=!0,checkViewAreaAnimate(),checkViewAreaMap()}),addHandlers=function(){document.querySelector(".info-wrapper").addEventListener("mouseover",function(e){"object"===e.target.tagName.toLocaleLowerCase()&&(e.target===discovery&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}),e.target===uxDesign&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}),e.target===prototype&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}),e.target===userTesting&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}),e.target===uiSvg&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}),e.target===development&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("animate, animateTransform"),function(e){e.hasAttribute("animation")||e.beginElement()}))})},addHandlerMap=function(){document.querySelector(".ukraine-map").addEventListener("mouseover",function(e){"object"===e.target.tagName.toLocaleLowerCase()&&e.target===map&&Array.prototype.forEach.call(e.target.contentDocument.querySelector("svg").querySelectorAll("#base1"),function(e){e.hasAttribute("animation")||e.beginElement()})})};responsiveStart();